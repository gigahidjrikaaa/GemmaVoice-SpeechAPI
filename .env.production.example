# ============================================================================
# Production Environment Variables
# ============================================================================
# Copy this file to .env.production on your VM and fill in the values.
# NEVER commit .env.production to git!
# ============================================================================

# ----------------------------------------------------------------------------
# Docker Images (Set by CI/CD automatically)
# ----------------------------------------------------------------------------
BACKEND_IMAGE=ghcr.io/gigahidjrikaaa/gemmavoice-speechapi/gemma-api:latest
FRONTEND_IMAGE=ghcr.io/gigahidjrikaaa/gemmavoice-speechapi/gemma-frontend:latest
OPENAUDIO_IMAGE=gemma-voice-openaudio:latest

# ----------------------------------------------------------------------------
# Ports (Configure based on your reverse proxy setup)
# ----------------------------------------------------------------------------
BACKEND_PORT=6666
FRONTEND_PORT=5173
OPENAUDIO_PORT=8080

# ----------------------------------------------------------------------------
# Environment
# ----------------------------------------------------------------------------
ENVIRONMENT=production

# ----------------------------------------------------------------------------
# Hugging Face (Required for model downloads)
# ----------------------------------------------------------------------------
# Get token from: https://huggingface.co/settings/tokens
HUGGING_FACE_HUB_TOKEN=your_hf_token_here

# ----------------------------------------------------------------------------
# LLM Configuration (Gemma 3)
# ----------------------------------------------------------------------------
LLM_MODEL_PATH=google/gemma-3-12b-it-qat-q4_0-gguf
LLM_GPU_LAYERS=-1
LLM_CONTEXT_SIZE=32768
LLM_MAX_TOKENS=2048
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.95

# ----------------------------------------------------------------------------
# Faster-Whisper (Speech-to-Text) - FULLY LOCAL
# ----------------------------------------------------------------------------
ENABLE_FASTER_WHISPER=true
FASTER_WHISPER_MODEL_SIZE=base
FASTER_WHISPER_DEVICE=cuda
FASTER_WHISPER_COMPUTE_TYPE=float16

# ----------------------------------------------------------------------------
# OpenAudio (Text-to-Speech)
# ----------------------------------------------------------------------------
OPENAUDIO_DEFAULT_FORMAT=wav
OPENAUDIO_DEFAULT_NORMALIZE=true
OPENAUDIO_TIMEOUT_SECONDS=120
OPENAUDIO_MAX_RETRIES=3

# ----------------------------------------------------------------------------
# Security (IMPORTANT: Enable in production!)
# ----------------------------------------------------------------------------
API_KEY_ENABLED=true
API_KEY_HEADER_NAME=X-API-Key
# Generate strong API keys (comma-separated for multiple keys)
API_KEYS=your_secure_api_key_1,your_secure_api_key_2

# ----------------------------------------------------------------------------
# Rate Limiting (Prevent abuse)
# ----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_BURST_MULTIPLIER=1.5

# ----------------------------------------------------------------------------
# Frontend Configuration
# ----------------------------------------------------------------------------
# These should match your domain setup by DevOps
VITE_API_BASE_URL=https://api.yourdomain.com
VITE_API_KEY=your_frontend_api_key

# ----------------------------------------------------------------------------
# Observability
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
REQUEST_ID_HEADER=X-Request-ID

# ----------------------------------------------------------------------------
# Health Check URLs (Used by deployment script)
# ----------------------------------------------------------------------------
BACKEND_HEALTH_URL=http://localhost:6666/health
FRONTEND_HEALTH_URL=http://localhost:5173
